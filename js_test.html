<html>

<!-- https://github.com/obsproject/obs-websocket/blob/master/docs/generated/protocol.md -->
<!-- https://github.com/obs-websocket-community-projects/obs-websocket-js -->

<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/obs-websocket-js"></script>
</head>

<body>
    <script>
        const obs = new OBSWebSocket();
        async function connect() {
            console.log('Connecting...');
            try {
                const {
                    obsWebSocketVersion,
                    negotiatedRpcVersion
                } = await obs.connect('ws://127.0.0.1:4455', '***', {
                    eventSubscriptions: OBSWebSocket.EventSubscription.All | OBSWebSocket.EventSubscription.InputVolumeMeters,
                    rpcVersion: 1
                });
                console.log(`Connected to server ${obsWebSocketVersion} (using RPC ${negotiatedRpcVersion})`);
            } catch (error) {
                console.error('Failed to connect', error.code, error.message);
            }
        }

        connect()
            .then(async () => {
                idRes = await obs.call('GetSceneItemId', { sceneName: 'Main', sourceName: 'Game Capture' });
                res = await obs.call('GetSceneItemTransform', { sceneName: 'Main', sceneItemId: idRes.sceneItemId });
                console.log(res);
            })
            .catch(error => {
                console.error(error);
            });
    </script>
</body>

</html>